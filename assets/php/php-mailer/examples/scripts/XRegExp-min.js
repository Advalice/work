var XRegExp;if(XRegExp)throw Error("can't load XRegExp twice in the same frame");!function(e){function t(e,t){if(!XRegExp.isRegExp(e))throw TypeError("type RegExp expected");var r=e._xregexp;return e=XRegExp(e.source,n(e)+(t||"")),r&&(e._xregexp={source:r.source,captureNames:r.captureNames?r.captureNames.slice(0):null}),e}function n(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function r(e,t,n,r){var a=c.length,l,i,p;o=!0;try{for(;a--;)if(p=c[a],n&p.scope&&(!p.trigger||p.trigger.call(r))&&(p.pattern.lastIndex=t,(i=p.pattern.exec(e))&&i.index===t)){l={output:p.handler.call(r,i,n),match:i};break}}catch(e){throw e}finally{o=!1}return l}function a(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}XRegExp=function(e,n){var a=[],l=XRegExp.OUTSIDE_CLASS,p=0,c,g,x,u,d;if(XRegExp.isRegExp(e)){if(void 0!==n)throw TypeError("can't supply flags when constructing one RegExp from another");return t(e)}if(o)throw Error("can't call the XRegExp constructor within token definition functions");for(n=n||"",c={hasNamedCapture:!1,captureNames:[],hasFlag:function(e){return n.indexOf(e)>-1},setFlag:function(e){n+=e}};p<e.length;)g=r(e,p,l,c),g?(a.push(g.output),p+=g.match[0].length||1):(x=s.exec.call(h[l],e.slice(p)))?(a.push(x[0]),p+=x[0].length):(u=e.charAt(p),"["===u?l=XRegExp.INSIDE_CLASS:"]"===u&&(l=XRegExp.OUTSIDE_CLASS),a.push(u),p++);return d=RegExp(a.join(""),s.replace.call(n,i,"")),d._xregexp={source:e,captureNames:c.hasNamedCapture?c.captureNames:null},d},XRegExp.version="1.5.1",XRegExp.INSIDE_CLASS=1,XRegExp.OUTSIDE_CLASS=2;var l=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,i=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,p=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,o=!1,c=[],s={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},g=void 0===s.exec.call(/()??/,"")[1],x=function(){var e=/^/g;return s.test.call(e,""),!e.lastIndex}(),u=void 0!==RegExp.prototype.sticky,h={};h[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/,h[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,XRegExp.addToken=function(e,n,r,a){c.push({pattern:t(e,"g"+(u?"y":"")),handler:n,scope:r||XRegExp.OUTSIDE_CLASS,trigger:a||null})},XRegExp.cache=function(e,t){var n=e+"/"+(t||"");return XRegExp.cache[n]||(XRegExp.cache[n]=XRegExp(e,t))},XRegExp.copyAsGlobal=function(e){return t(e,"g")},XRegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},XRegExp.execAt=function(e,n,r,a){var l=t(n,"g"+(a&&u?"y":"")),i;return l.lastIndex=r=r||0,i=l.exec(e),a&&i&&i.index!==r&&(i=null),n.global&&(n.lastIndex=i?l.lastIndex:0),i},XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}},XRegExp.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},XRegExp.iterate=function(e,n,r,a){for(var l=t(n,"g"),i=-1,p;p=l.exec(e);)n.global&&(n.lastIndex=l.lastIndex),r.call(a,p,++i,e,n),l.lastIndex===p.index&&l.lastIndex++;n.global&&(n.lastIndex=0)},XRegExp.matchChain=function(e,n){return function e(r,a){var l=n[a].regex?n[a]:{regex:n[a]},i=t(l.regex,"g"),p=[],o;for(o=0;o<r.length;o++)XRegExp.iterate(r[o],i,function(e){p.push(l.backref?e[l.backref]||"":e[0])});return a!==n.length-1&&p.length?e(p,a+1):p}([e],0)},RegExp.prototype.apply=function(e,t){return this.exec(t[0])},RegExp.prototype.call=function(e,t){return this.exec(t)},RegExp.prototype.exec=function(e){var t,r,l,i;if(this.global||(i=this.lastIndex),t=s.exec.apply(this,arguments)){if(!g&&t.length>1&&a(t,"")>-1&&(l=RegExp(this.source,s.replace.call(n(this),"g","")),s.replace.call((e+"").slice(t.index),l,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(t[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var p=1;p<t.length;p++)(r=this._xregexp.captureNames[p-1])&&(t[r]=t[p]);!x&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--}return this.global||(this.lastIndex=i),t},RegExp.prototype.test=function(e){var t,n;return this.global||(n=this.lastIndex),t=s.exec.call(this,e),t&&!x&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,this.global||(this.lastIndex=n),!!t},String.prototype.match=function(e){if(XRegExp.isRegExp(e)||(e=RegExp(e)),e.global){var t=s.match.apply(this,arguments);return e.lastIndex=0,t}return e.exec(this)},String.prototype.replace=function(e,t){var n=XRegExp.isRegExp(e),r,i,p,o;return n?(e._xregexp&&(r=e._xregexp.captureNames),e.global||(o=e.lastIndex)):e+="","[object Function]"===Object.prototype.toString.call(t)?i=s.replace.call(this+"",e,function(){if(r){arguments[0]=new String(arguments[0]);for(var a=0;a<r.length;a++)r[a]&&(arguments[0][r[a]]=arguments[a+1])}return n&&e.global&&(e.lastIndex=arguments[arguments.length-2]+arguments[0].length),t.apply(null,arguments)}):(p=this+"",i=s.replace.call(p,e,function(){var e=arguments;return s.replace.call(t+"",l,function(t,n,l){if(!n){var i=+l;return i<=e.length-3?e[i]:(i=r?a(r,l):-1,i>-1?e[i+1]:t)}switch(n){case"$":return"$";case"&":return e[0];case"`":return e[e.length-1].slice(0,e[e.length-2]);case"'":return e[e.length-1].slice(e[e.length-2]+e[0].length);default:var p="";if(!(n=+n))return t;for(;n>e.length-3;)p=String.prototype.slice.call(n,-1)+p,n=Math.floor(n/10);return(n?e[n]||"":"$")+p}})})),n&&(e.global?e.lastIndex=0:e.lastIndex=o),i},String.prototype.split=function(e,t){if(!XRegExp.isRegExp(e))return s.split.apply(this,arguments);var n=this+"",r=[],a=0,l,i;if(void 0===t||+t<0)t=1/0;else if(!(t=Math.floor(+t)))return[];for(e=XRegExp.copyAsGlobal(e);(l=e.exec(n))&&!(e.lastIndex>a&&(r.push(n.slice(a,l.index)),l.length>1&&l.index<n.length&&Array.prototype.push.apply(r,l.slice(1)),i=l[0].length,a=e.lastIndex,r.length>=t));)e.lastIndex===l.index&&e.lastIndex++;return a===n.length?s.test.call(e,"")&&!i||r.push(""):r.push(n.slice(a)),r.length>t?r.slice(0,t):r},XRegExp.addToken(/\(\?#[^)]*\)/,function(e){return s.test.call(p,e.input.slice(e.index+e[0].length))?"":"(?:)"}),XRegExp.addToken(/\((?!\?)/,function(){return this.captureNames.push(null),"("}),XRegExp.addToken(/\(\?<([$\w]+)>/,function(e){return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),XRegExp.addToken(/\\k<([\w$]+)>/,function(e){var t=a(this.captureNames,e[1]);return t>-1?"\\"+(t+1)+(isNaN(e.input.charAt(e.index+e[0].length))?"":"(?:)"):e[0]}),XRegExp.addToken(/\[\^?]/,function(e){return"[]"===e[0]?"\\b\\B":"[\\s\\S]"}),XRegExp.addToken(/^\(\?([imsx]+)\)/,function(e){return this.setFlag(e[1]),""}),XRegExp.addToken(/(?:\s+|#.*)+/,function(e){return s.test.call(p,e.input.slice(e.index+e[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")}),XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})}();